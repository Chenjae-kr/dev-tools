<!DOCTYPE html>
<html lang="ko" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dev Tools</title>
<script src="tools.js"></script>
<script src="nav.js"></script>
<link rel="stylesheet" href="styles.css">
<style>
.finder{display:flex;flex-wrap:wrap;gap:10px;align-items:center;margin:8px 0 16px}
.finder input{flex:1;min-width:220px;background:transparent;border:1px solid var(--border);border-radius:10px;padding:10px 12px;color:var(--text);font-family:'JetBrains Mono',monospace}
.cat-chips{display:flex;gap:8px;flex-wrap:wrap}
.cat-chip{border:1px solid var(--border);background:var(--surface);color:var(--text-muted);padding:7px 10px;border-radius:999px;cursor:pointer;font-family:'JetBrains Mono',monospace;font-size:11px}
.cat-chip.active{transform:translateY(-1px)}
.cat-chip-all.active{color:var(--accent);border-color:rgba(79,255,176,.42);background:rgba(79,255,176,.10)}
.cat-chip-sql-db.active{color:#dbeafe;border-color:rgba(96,165,250,.55);background:rgba(96,165,250,.16)}
.cat-chip-data-format.active{color:#ede9fe;border-color:rgba(167,139,250,.55);background:rgba(167,139,250,.16)}
.cat-chip-image.active{color:#dcfce7;border-color:rgba(52,211,153,.55);background:rgba(52,211,153,.16)}
.cat-chip-text-compare.active{color:#fef3c7;border-color:rgba(251,191,36,.55);background:rgba(251,191,36,.16)}
.cat-chip-utility.active{color:#fee2e2;border-color:rgba(248,113,113,.55);background:rgba(248,113,113,.16)}
[data-theme="light"] .cat-chip-sql-db.active{color:#1e3a8a;background:rgba(96,165,250,.20)}
[data-theme="light"] .cat-chip-data-format.active{color:#5b21b6;background:rgba(167,139,250,.20)}
[data-theme="light"] .cat-chip-image.active{color:#065f46;background:rgba(52,211,153,.20)}
[data-theme="light"] .cat-chip-text-compare.active{color:#92400e;background:rgba(251,191,36,.22)}
[data-theme="light"] .cat-chip-utility.active{color:#991b1b;background:rgba(248,113,113,.20)}
.category-head{display:flex;justify-content:space-between;align-items:center;margin-top:22px}
.category-head .count{font-size:11px;color:var(--text-dim);font-family:'JetBrains Mono',monospace}
</style>
</head>
<body>

<script>renderNav();</script>

<!-- â”€â”€â”€ Hero â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="container">
  <section class="hero">
    <p class="hero-kicker">developer utilities</p>
    <div class="hero-row">
      <h1>Dev<em>Tools</em></h1>
      <div class="hero-stats">
        <div class="hero-stat">
          <span class="stat-num" id="toolCount">2</span>
          <span class="stat-label">Tools</span>
        </div>
        <div class="hero-stat">
          <span class="stat-num" id="categoryCount">4</span>
          <span class="stat-label">Categories</span>
        </div>
        <div class="hero-stat">
          <span class="stat-num">Multi</span>
          <span class="stat-label">Outputs</span>
        </div>
      </div>
    </div>
  </section>

  <!-- â”€â”€â”€ Tools Grid â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <p class="section-label">Tools</p>

  <div class="finder">
    <input id="toolSearch" placeholder="íˆ´ ê²€ìƒ‰ (ì´ë¦„/ì„¤ëª…/íƒœê·¸)">
    <div class="cat-chips" id="catChips"></div>
  </div>

  <div id="toolsGroups"></div>

  <script>
    function oneLineSummary({ desc }) {
      const text = String(desc || '').replace(/\s+/g, ' ').trim();
      if (!text) return '';
      const firstSentence = text.split('. ')[0].trim();
      return firstSentence.endsWith('.') ? firstSentence : `${firstSentence}.`;
    }

    function slugCategory(cat) {
      return String(cat || 'other').toLowerCase().replace(/[^a-z0-9ê°€-íž£]+/g, '-');
    }

    function tagStyle(tag, category) {
      const cat = slugCategory(category);
      const map = {
        'sql-db': '96,165,250',
        'data-format': '167,139,250',
        'image': '52,211,153',
        'text-compare': '251,191,36',
        'utility': '248,113,113',
      };
      const rgb = map[cat] || '148,163,184';
      const isDark = document.documentElement.getAttribute('data-theme') !== 'light';
      if (isDark) return `background: rgba(${rgb}, .16); border-color: rgba(${rgb}, .42); color: #e5e7eb;`;
      return `background: rgba(${rgb}, .14); border-color: rgba(${rgb}, .38); color: #334155;`;
    }

    function renderToolCard({ href, icon, title, desc, tags, footer, category }) {
      const catClass = `cat-${slugCategory(category)}`;
      const shownTags = (tags || []).slice(0, 3);
      const hiddenTagCount = Math.max(0, (tags || []).length - shownTags.length);
      const ioText = String(footer || '').replace(/\s+/g, ' ').trim();

      return `
        <a class="tool-card ${catClass}" href="tools/${href}">
          <div class="card-top">
            <div class="card-icon">${icon}</div>
            <span class="card-arrow">â†’</span>
          </div>
          <div class="card-title">${title}</div>
          <p class="card-desc">${oneLineSummary({ desc, tags })}</p>
          <div class="card-io" title="${ioText}">ìž…ì¶œë ¥: ${ioText}</div>
          <div class="card-tags">
            ${shownTags.map(t => `<span class="card-tag" style="${tagStyle(t, category)}">${t}</span>`).join('')}
            ${hiddenTagCount > 0 ? `<span class="card-tag card-tag-more">+${hiddenTagCount}</span>` : ''}
          </div>
          <div class="card-footer">
            <span>${footer}</span>
          </div>
        </a>`;
    }

    const groupsEl = document.getElementById('toolsGroups');
    const searchEl = document.getElementById('toolSearch');
    const chipsEl = document.getElementById('catChips');
    const categories = (typeof TOOL_CATEGORIES !== 'undefined' && TOOL_CATEGORIES.length)
      ? TOOL_CATEGORIES
      : [...new Set(TOOLS.map(t => t.category || 'Other'))];

    let activeCategory = 'ALL';

    function matchesQuery(tool, q){
      if(!q) return true;
      const hay = [tool.title, tool.label, tool.desc, ...(tool.tags||[])].join(' ').toLowerCase();
      return hay.includes(q);
    }

    function renderChips(){
      const all = ['ALL', ...categories];
      chipsEl.innerHTML = all.map(cat => {
        const cls = cat === 'ALL' ? 'cat-chip-all' : `cat-chip-${slugCategory(cat)}`;
        return `<button class="cat-chip ${cls}${cat===activeCategory?' active':''}" data-cat="${cat}">${cat}</button>`;
      }).join('');
      chipsEl.querySelectorAll('.cat-chip').forEach(btn=>btn.addEventListener('click', ()=>{
        activeCategory = btn.dataset.cat;
        renderChips();
        renderGroups();
      }));
    }

    function renderGroups(){
      const q = (searchEl.value || '').trim().toLowerCase();

      groupsEl.innerHTML = categories.map(cat => {
        const tools = TOOLS
          .filter(t => (t.category || 'Other') === cat)
          .filter(t => activeCategory === 'ALL' || activeCategory === cat)
          .filter(t => matchesQuery(t, q));

        if (!tools.length) return '';
        return `
          <div class="category-head">
            <p class="section-label">${cat}</p>
            <span class="count">${tools.length} tools</span>
          </div>
          <div class="tools-grid">
            ${tools.map(renderToolCard).join('')}
          </div>
        `;
      }).join('');

      if (!groupsEl.innerHTML.trim()) {
        groupsEl.innerHTML = `<div class="panel"><div class="empty-state"><div class="icon">ðŸ”Ž</div><p>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ì–´</p></div></div>`;
      }
    }

    renderChips();
    renderGroups();
    searchEl.addEventListener('input', renderGroups);

    document.getElementById('toolCount').textContent = TOOLS.length;
    document.getElementById('categoryCount').textContent = categories.filter(cat => TOOLS.some(t => (t.category || 'Other') === cat)).length;
  </script>

  <footer>// Dev Tools â€” a collection of developer utilities</footer>
</div>

</body>
</html>
